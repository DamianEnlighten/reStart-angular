// Directives (and associated attributes) are camelCase in JS and snake-case in HTML
// Angular's built-in <a> directive automatically implements preventDefault on links that don't have an href attribute
// Complex JavaScript DOM manipulation should always be done in directives, and $apply should never be used in a controller! Simpler DOM manipulation should be in the view.

/*--- Sample Directive with a $watch ---*/
(function() {
	'use strict';

	angular
		.module('myApp')
		.directive('directiveName', directiveName);

	function directiveName() {

		directiveNameLink.$inject = ['$scope', '$element', '$attrs'];

		function directiveNameLink($scope, $element, $attrs) {
			// data object
			$scope.dir = {};

			// watch for async data to become available and update
			$scope.$watch('jsonData', function(newVal, oldVal) {
				if (newVal) {
					$scope.dir.jsonData = $scope.jsonData;
				}
			}, true);
		}

		return {
			restrict: 'EA',
			scope: {
				jsonData: '='
			},
			templateUrl: 'ng-app/sub/sample.tpl.html',
			transclude: true,
			link: directiveNameLink
		};
	}

})();