/*! reStart-angular - v0.1.0 - 2015-03-09 */myApp.factory("GlobalObj",function(){return{greeting:"Hello"}}),myApp.service("JSONData",["$http",function(a){this.getDataAsync=function(b){a({method:"GET",url:"/ng-app/data/data.json"}).success(b)}}]),myApp.directive("repeatComplete",function(a){function b(b,d){var e=++c;b.attr("repeat-complete-id",e),b.removeAttr("repeat-complete");var f=d.repeatComplete,g=b.parent(),h=g.scope()||a,i=h.$watch(function(){console.info("Digest running.");var a=g.children("*[ repeat-complete-id = '"+e+"' ]:last");if(a.length){var b=a.scope();b.$last&&(i(),b.$eval(f))}})}var c=0;return{compile:b,priority:1001,restrict:"A"}}),myApp.directive("viewSwitch",["mediaCheck","MQ","$timeout",function(a,b,c){function d(d){a.init({scope:d,mq:b.SMALL,enter:function(){c(function(){d.viewformat="small"})},exit:function(){c(function(){d.viewformat="large"})}})}return{restrict:"A",controller:d}}]);var angularMediaCheck=angular.module("mediaCheck",[]);angularMediaCheck.service("mediaCheck",["$window","$timeout",function(a,b){this.init=function(c){var d,e,f,g,h=c.scope,i=c.mq,j=c.debounce,k=angular.element(a),l=void 0,m=void 0!==a.matchMedia&&!!a.matchMedia("!").addListener,n=void 0,o=void 0,p=j?j:250;if(m)return o=function(a){a.matches&&"function"==typeof c.enter?c.enter(a):"function"==typeof c.exit&&c.exit(a),"function"==typeof c.change&&c.change(a)},(l=function(){return n=a.matchMedia(i),e=function(){return o(n)},n.addListener(e),k.bind("orientationchange",e),h.$on("$destroy",function(){n.removeListener(e),k.unbind("orientationchange",e)}),o(n)})();d={},o=function(a){return a.matches?!!d[i]==!1&&"function"==typeof c.enter&&c.enter(a):(d[i]===!0||null==d[i])&&"function"==typeof c.exit&&c.exit(a),(a.matches&&!d[i]||!a.matches&&(d[i]===!0||null==d[i]))&&"function"==typeof c.change&&c.change(a),d[i]=a.matches};var q=function(a){var b=document.createElement("div");return b.style.width="1em",b.style.position="absolute",document.body.appendChild(b),px=a*b.offsetWidth,document.body.removeChild(b),px},r=function(a,b){var c;switch(c=void 0,b){case"em":c=q(a);break;default:c=a}return c};d[i]=null,f=function(){var b=i.match(/\((.*)-.*:\s*([\d\.]*)(.*)\)/),c=b[1],d=r(parseInt(b[2],10),b[3]),e={},f=a.innerWidth||document.documentElement.clientWidth;return e.matches="max"===c&&d>f||"min"===c&&f>d,o(e)};var s=function(){clearTimeout(g),g=b(f,p)};return k.bind("resize",s),h.$on("$destroy",function(){k.unbind("resize",s)}),f()}}]),myApp.filter("trustAsHTML",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]),myApp.controller("HeaderCtrl",["$scope","$location","$routeParams","JSONData",function(a,b,c,d){d.getDataAsync(function(b){a.json=b}),a.indexIsActive=function(a){return b.path()===a},a.navIsActive=function(a){return b.path().substr(0,a.length)===a},a.$on("$locationChangeSuccess",function(a,b,c){var d=function(a){var b=a.substr(a.lastIndexOf("/")+1);return b?"page-"+b:"page-home"},e=d(c),f=d(b);angular.element("body").removeClass(e).addClass(f)})}]),myApp.directive("navControl",["mediaCheck","MQ","$timeout",function(a,b,c){function d(d){var e=angular.element("body"),f=function(){e.removeClass("nav-closed").addClass("nav-open")},g=function(){e.removeClass("nav-open").addClass("nav-closed")};a.init({scope:d,mq:b.SMALL,enter:function(){g(),c(function(){d.toggleNav=function(){e.hasClass("nav-closed")?f():g()}}),d.$on("$locationChangeSuccess",g)},exit:function(){c(function(){d.toggleNav=null}),e.removeClass("nav-closed nav-open")}})}return{restrict:"A",link:d}}]),myApp.controller("HomeCtrl",["$scope","GlobalObj","JSONData",function(a,b,c){a.global=b,a.name="Visitor",a.stringOfHTML='<strong>Some bold text</strong> bound as HTML with a <a href="#">link</a>!',c.getDataAsync(function(b){a.json=b})}]);var myApp=angular.module("myApp",["ngRoute","ngResource","ngSanitize","mediaCheck"]);myApp.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"ng-app/home/Home.view.html"}).when("/subpage",{templateUrl:"ng-app/sub/Sub.view.html"}).otherwise({redirectTo:"/"}),b.html5Mode({enabled:!0}).hashPrefix("!")}]),myApp.constant("MQ",{SMALL:"(max-width: 768px)",LARGE:"(min-width: 769px)"}),myApp.directive("directiveName",function(){function a(a){a.$watch("json",function(a){},!0)}return{restrict:"A",templateUrl:"ng-app/sub/sample.tpl.html",transclude:!0,link:a}}),myApp.controller("SubCtrl",["$scope","GlobalObj","JSONData",function(a,b,c){a.global=b,c.getDataAsync(function(b){a.json=b})}]);