/*! reStart-angular - v0.1.0 - 2014-03-06 */var app=angular.module("myApp",["ngRoute","ngResource","ngSanitize"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/view/HomeView.html"}).when("/subpage",{templateUrl:"/view/SubView.html"}).otherwise({redirectTo:"/"}),b.html5Mode(!0).hashPrefix("!")}]);app.service("JSONdata",["$http",function(a){this.getDataAsync=function(b){a({method:"GET",url:"/app/data/data.json"}).success(b)}}]),app.factory("GlobalObj",function(){return{greeting:"Hello",getviewformat:function(){var a,b=window,c=b.matchMedia||b.msMatchMedia;return a=b.matchMedia("screen and (min-width: 641px)").matches||!c&&$(b).width()>640?"large":"small"}}}),app.service("myFunc",function(){this.doThis=function(a){console.log(a)}}),app.controller("HeaderCtrl",["$scope","$location","$routeParams","JSONdata",function(a,b,c,d){d.getDataAsync(function(b){a.json=b}),a.indexIsActive=function(a){return b.path()===a},a.navIsActive=function(a){return b.path().substr(0,a.length)===a},a.$on("$locationChangeSuccess",function(a,b,c){var d=function(a){var b=a.substr(a.lastIndexOf("/")+1);return b?"page-"+b:"page-home"},e=d(c),f=d(b);angular.element("body").removeClass(e).addClass(f)})}]),app.controller("HomeCtrl",["$scope","$routeParams","GlobalObj","JSONdata","myFunc",function(a,b,c,d,e){a.global=c,a.name="Visitor",d.getDataAsync(function(b){a.json=b}),e.doThis("boo")}]),app.controller("SubCtrl",["$scope","$routeParams","GlobalObj","JSONdata","myFunc",function(a,b,c,d){a.global=c,d.getDataAsync(function(b){a.json=b})}]),app.controller("ViewCtrl",["$scope","$routeParams","GlobalObj","JSONdata","myFunc",function(a,b,c){a.global=c,a.viewformat=$(window).width()>640?"large":"small"}]),app.directive("viewSwitch",function(){return{restrict:"A",controller:"ViewCtrl",link:function(a){$(document.body).on("enter-large",function(){a.$apply(function(){a.viewformat="large"})}).on("enter-small",function(){a.$apply(function(){a.viewformat="small"})})}}}),app.directive("directiveName",function(){return{restrict:"A",templateUrl:"view/tpl/TemplateTpl.html",transclude:!0,link:function(a){a.$watch("json",function(a){},!0)}}});